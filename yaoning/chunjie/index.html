
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>六龙御天，真龙测试开启！真3D，真国战！</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="./style.css"/>
  <script src="./js/zepto_modify.js"></script>
</head>
<body>

  <div class="slider">
    <div class="slide" id="slide1">
      <ul>
        <li class="page page-0">
          <div class="bg"><img style="background-image: url(./images/b1.jpg)"></div>
          <div class="box">
            <h1><img style="background-image: url(./images/slogan/slogan_1.png)"></h1>
            <img class="wenan" style="background-image: url(./images/wenan/wenan_01.png)">
            <div class="actions">
              <a class="yaoqing slideInUp animated infinite" href="#">邀请好友</a>
              <a class="download download-pop slideInUp animated infinite" href="#">下载游戏</a>
              <a class="fuli slideInUp animated infinite" href="#">今日福利</a>
            </div>
          </div>
          <div class="footer">
            <span class="chuji chuji-1"></span>
            <span class="qq"></span>
          </div>
        </li>
        <li class="page page-1">
          <div class="bg"><img style="background-image: url(./images/b2.jpg)"></div>
          <div class="box">
            <h1><img style="background-image: url(./images/slogan/slogan_2.png)"></h1>
            <img class="wenan" style="background-image: url(./images/wenan/wenan_02.png)">
            <div class="actions">
              <a class="yaoqing slideInUp animated infinite" href="#">邀请好友</a>
              <a class="download download-pop slideInUp animated infinite" href="#" data-target="#pop1">下载游戏</a>
              <a class="fuli slideInUp animated infinite" href="#">今日福利</a>
            </div>
          </div>
          <div class="footer">
            <span class="chuji chuji-2"></span>
            <span class="qq"></span>
          </div>
        </li>
        <li class="page page-2">
          <div class="bg"><img style="background-image: url(./images/b3.jpg)"></div>
          <div class="box">
            <h1><img style="background-image: url(./images/slogan/slogan_3.png)"></h1>
            <img class="wenan" style="background-image: url(./images/wenan/wenan_03.png)">
            <div class="actions">
              <a class="yaoqing slideInUp animated infinite" href="#">邀请好友</a>
              <a class="download download-pop slideInUp animated infinite" href="#" data-target="#pop2">下载游戏</a>
              <a class="fuli slideInUp animated infinite" href="#">今日福利</a>
            </div>
          </div>
          <div class="footer">
            <span class="chuji chuji-3"></span>
            <span class="qq"></span>
          </div>
        </li>
        <li class="page page-3">
          <div class="bg"><img style="background-image: url(./images/b4.jpg)"></div>
          <div class="box">
            <h1><img style="background-image: url(./images/slogan/slogan_4.png)"></h1>
            <img class="wenan" style="background-image: url(./images/wenan/wenan_04.png)">
            <div class="actions">
              <a class="yaoqing slideInUp animated infinite" href="#">邀请好友</a>
              <a class="download download-pop slideInUp animated infinite" href="#">下载游戏</a>
              <a class="fuli slideInUp animated infinite" href="#">今日福利</a>
            </div>
          </div>
          <div class="footer">
            <span class="chuji chuji-4"></span>
            <span class="qq"></span>
          </div>
        </li>
        <li class="page page-4">
          <div class="bg"><img style="background-image: url(./images/b5.jpg)"></div>
          <div class="box">
            <h1><img style="background-image: url(./images/slogan/slogan_5.png)"></h1>
            <img class="wenan" style="background-image: url(./images/wenan/wenan_05.png)">
            <div class="actions">
              <a class="yaoqing slideInUp animated infinite" href="#">邀请好友</a>
              <a class="download download-pop slideInUp animated infinite" href="#" data-target="#pop3">下载游戏</a>
              <a class="fuli slideInUp animated infinite" href="#">今日福利</a>
            </div>
          </div>
          <div class="footer">
            <span class="chuji chuji-5"></span>
            <span class="qq"></span>
          </div>
        </li>
        <li class="page page-5">
          <div class="bg"><img style="background-image: url(./images/b6.jpg)"></div>
          <div class="box">
            <h1><img style="background-image: url(./images/slogan/slogan_6.png)"></h1>
            <img class="wenan" style="background-image: url(./images/wenan/wenan_06.png)">
            <div class="actions">
              <a class="yaoqing slideInUp animated infinite" href="#">邀请好友</a>
              <a class="download download-pop slideInUp animated infinite" href="#" data-target="#pop4">下载游戏</a>
              <a class="fuli slideInUp animated infinite" href="#">今日福利</a>
            </div>
          </div>
          <div class="footer">
            <span class="chuji chuji-6"></span>
            <span class="qq"></span>
          </div>
        </li>
        <li class="page page-6">
          <div class="bg"><img style="background-image: url(./images/b7.jpg)"></div>
          <div class="box">
            <h1><img style="background-image: url(./images/slogan/slogan_7.png)"></h1>
            <img class="wenan" style="background-image: url(./images/wenan/wenan_07.png)">
            <div class="actions">
              <a class="yaoqing slideInUp animated infinite" href="#">邀请好友</a>
              <a class="download download-pop slideInUp animated infinite" href="#">下载游戏</a>
              <a class="fuli slideInUp animated infinite" href="#">今日福利</a>
            </div>
          </div>
          <div class="footer">
            <span class="chuji chuji-7"></span>
            <span class="qq"></span>
          </div>
        </li>

      </ul>
    </div>

  </div>
  <div class="overlayer"><span></span></div>
  <div class="modal-layer" id="pop1">

    <div class="modal">
      <div class="games">
        <a href="#"><span class="game game-1"></span></a>
        <hr>
        <a href="#"><span class="game game-2"></span></a>
      </div>
      <span class="close"></span>
    </div>
  </div>
  <div class="modal-layer" id="pop2">

    <div class="modal">
      <div class="games games-2">
        <a href="#"><span class="game game-1"></span></a>
        <hr>
        <a href="#"><span class="game game-2"></span></a>
      </div>
      <span class="close"></span>
    </div>
  </div>
  <div class="modal-layer" id="pop3">

    <div class="modal">
      <div class="games games-3">
        <a href="#"><span class="game game-1"></span></a>
        <hr>
        <a href="#"><span class="game game-2"></span></a>
      </div>
      <span class="close"></span>
    </div>
  </div>
  <div class="modal-layer" id="pop4">

    <div class="modal">
      <div class="games games-4">
        <a href="#"><span class="game game-1"></span></a>
        <hr>
        <a href="#"><span class="game game-2"></span></a>
        <hr>
        <a href="#"><span class="game game-3"></span></a>
      </div>
      <span class="close"></span>
    </div>
  </div>

  <script src="./js/swipeSlide.min.js"></script>
  <script>
  var page = +getSearchObj(window.location.search).page || 0;
  page = page > 6 ? 0 : page;
  if (page === 0) {
    $('.page-0 .box').addClass('box-1');
  }
  for (var i = page; i < 7; i++) {
    $('.page-' + (i + 1)).remove();
  }

  var current;
  //初始化轮播图
  var sliderTab = $('#slide1').swipeSlide({
    autoSwipe: false,
    continuousScroll: false,
    index: page,
    firstCallback: function (i, sum, e) {
      current = i;
    },
    endCallback: function (i, sum, e) {
      if (current === i && i === (sum - 1) && e.target.tagName.toLowerCase() !== 'a') {
        alert('明日揭晓呦');
      }
      current = i;
    },
  });

  $('.download-pop').click(function (e) {
    var target = $(e.target).data('target');
    $(target + '').show();
  });
  $('.modal .close').click(function (e) {
    $('.modal-layer').hide();
  });
  $('.overlayer').click(function() {
    $('.overlayer').hide();
  })

  // 为轮播图上面的遮罩忽略事件
  $(".overlayer").on('touchmove', function (e) {
    return false;
  });

  function getSearchObj(search) {
      var qs = search.length > 0 ? search.substr(1) : '';
      var args = {};
      var items = qs.length > 0 ? qs.split('&') : [];
      var item = null;
      var name = null;
      var value = null;
      var len = items.length;

      for (var i = 0; i < len; i += 1) {
          item = items[i].split('=');
          name = decodeURIComponent(item[0]);
          value = decodeURIComponent(item[1]);

          if (name.length) {
              args[name] = value;
          }
      }

      return args;
  }
  </script>
</body>
</html>
